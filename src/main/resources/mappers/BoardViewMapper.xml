<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.tyk.pixterest.mappers.BoardViewMapper">
    <select id="selectBoardById" resultType="com.tyk.pixterest.entities.BoardEntity">
        SELECT `id`          AS `id`,
               `user_email`  AS `userEmail`,
               `name`        AS `name`,
               `cover_image` AS `coverImage`,
               `created_at`  AS `createdAt`,
               `modified_at` AS `modifiedAt`,
               `is_deleted`  AS `isDeleted`
        FROM `pixterest`.`boards`
        WHERE id = #{boardId}
          AND is_deleted = FALSE
    </select>

    <select id="selectPinsByBoardId" resultType="com.tyk.pixterest.entities.PinEntity">
        SELECT `id`          AS `id`,
               `user_email`  AS `userEmail`,
               `board_id`    AS `boardId`,
               `title`       AS `title`,
               `content`     AS `content`,
               `link`        AS `link`,
               `tag`         AS `tag`,
               `image`       AS `image`,
               `created_at`  AS `createdAt`,
               `modified_at` AS `modifiedAt`,
               `is_deleted`  AS `isDeleted`
        FROM `pixterest`.`pins`
        WHERE board_id = #{boardId}
          AND is_deleted = FALSE
    </select>
</mapper>